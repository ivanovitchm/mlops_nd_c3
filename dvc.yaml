stages:
  preprocess:
    cmd: python pipeline/03_preprocess/run.py --input_artifact_name pipeline/01_data/census.csv
      --output_artifact_name pipeline/01_data/preprocessing_data.csv
    deps:
    - pipeline/01_data/census.csv
    - pipeline/03_preprocess/run.py
    outs:
    - pipeline/01_data/preprocessing_data.csv
  datacheck:
    cmd: pytest pipeline/04_check_data -s -vv --sample_artifact pipeline/01_data/preprocessing_data.csv
      --param params.yaml
    deps:
    - pipeline/01_data/preprocessing_data.csv
    - pipeline/04_check_data/conftest.py
    - pipeline/04_check_data/test_data.py
    params:
    - data.ks_alpha
    - data.reference_dataset
  segregate:
    cmd: python pipeline/05_segregate/run.py --input_artifact pipeline/01_data/preprocessing_data.csv
      --param params.yaml
    deps:
    - pipeline/01_data/preprocessing_data.csv
    - pipeline/05_segregate/run.py
    params:
    - data.stratify
    - data.test_size
    - main.random_seed
    outs:
    - pipeline/01_data/test_data.csv
    - pipeline/01_data/train_data.csv
  train:
    cmd: ' '
